/*! https://github.com/leeoniya/uPlot (v0.1.0) */
var uPlot=function(){"use strict";var n=["January","February","March","April","May","June","July","August","September","October","November","December"],t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function e(n){return n.slice(0,3)}var r=t.map(e),u=n.map(e);function o(n){return(10>n?"0":"")+n}var a="getFullYear",i="getMonth",c="getDate",l={YYYY:function(n){return n[a]()},YY:function(n){return(n[a]()+"").slice(2)},MMMM:function(t){return n[t[i]()]},MMM:function(n){return u[n[i]()]},MM:function(n){return o(n[i]()+1)},M:function(n){return n[i]()+1},DD:function(n){return o(n[c]())},D:function(n){return n[c]()},WWWW:function(n){return t[n.getDay()]},WWW:function(n){return r[n.getDay()]},HH:function(n){return o(n.getHours())},H:function(n){return n.getHours()},h:function(n){var t=n.getHours();return 0==t?12:t>12?t-12:t},AA:function(n){return 12>n.getHours()?"AM":"PM"},aa:function(n){return 12>n.getHours()?"am":"pm"},mm:function(n){return o(n.getMinutes())},m:function(n){return n.getMinutes()},ss:function(n){return o(n.getSeconds())},s:function(n){return n.getSeconds()},fff:function(n){return function(n){return(10>n?"00":100>n?"0":"")+n}(n.getMilliseconds())}};function f(n){for(var t,e=[],r=/\{([a-z]+)\}|[^{]+/iy;t=r.exec(n);)e.push("{"==t[0][0]?l[t[1]]:t[0]);return function(n){for(var t="",r=0;e.length>r;r++)t+="string"==typeof e[r]?e[r]:e[r](n);return t}}var s=requestAnimationFrame,v=document,m=window,h=devicePixelRatio,d=Math,p=d.abs,g=d.floor,y=d.round,x=d.ceil,b=d.min,M=d.max,D=d.pow,w=d.log10;function T(n,t){return x(n/t)*t}function Y(n){return y(1e6*n)/1e6}var E="width",W="height",H="top",S="bottom",C="left",k="right",A="firstChild",P="nextSibling",j="createElement",F="#000",z="mousemove",J="mousedown",L="mouseup",R="dblclick",V=Object.assign,N={color:"#eee",width:2},O=60,X=O*O,q=24*X,B=[.001,.002,.005,.01,.02,.05,.1,.2,.5],G=B.concat([1,5,10,15,30,O,5*O,10*O,15*O,30*O,X,2*X,3*X,4*X,6*X,8*X,12*X,q,2*q,3*q,4*q,5*q,6*q,7*q,8*q,9*q,10*q,365*q]);function I(n){var t=n[1]-n[0],e=f(q>t?X>t?O>t?1>t?"{h}:{mm}:{ss}.{fff}{aa}":"{M}/{DD}\n{h}:{mm}:{ss}{aa}":"{M}/{DD}\n{h}:{mm}{aa}":"{M}/{DD}\n{h}{aa}":"{M}/{D}");return n.map((function(n){return e(new Date(1e3*n))}))}var K=f("{YYYY}-{MM}-{DD} {h}:{mm}{aa}");function Q(n){return K(new Date(1e3*n))}var U={type:"t",scale:"x",space:40,height:30,side:0,class:"x-vals",grid:N},Z="Value",$="Time",_={type:"t",scale:"x"},nn=B.concat([1,2,5,10,20,50,100,200,500,1e3,2e3,5e3,1e4,2e4,5e4,1e5,2e5,5e5,1e6,2e6,5e6,1e7,2e7,5e7,1e8,2e8,5e8,1e9]);function tn(n){return n}function en(n){return n}var rn={type:"n",scale:"y",space:30,width:50,side:1,class:"y-vals",grid:N},un={type:"n",scale:"y",shown:!0},on={};function an(){var n=[];return{sub:function(t){n.push(t)},pub:function(t,e,r,u,o,a,i){n.length>1&&n.forEach((function(n){n!=e&&n.pub(t,e,r,u,o,a,i)}))}}}function cn(n,t){function e(n,t,e){return[n.x].concat(n.y).map((function(n,r){return V({},0==r?t:e,n)}))}var r=e(n.series,_,un),u=e(n.axes,U,rn);r.forEach((function(n){var t="t"==n.type;n.value=n.value||(t?Q:en),n.label=n.label||(t?$:Z)}));var o,l,f,d={},x=n.cursor;function N(n,e,r,u){o=(t=n)[0].length,Wn(e,r,u)}function O(n,t,e){n.style[t]=e+"px"}function X(n,t,e,r){Mn.strokeStyle=n||F,Mn.lineWidth=t||1,Mn.setLineDash(e||[]),Mn.fillStyle=r||F}this.setData=N;var q=Dn("chart"),B=Dn("plot",q),K=n[E],cn=n[W],ln=K,fn=cn,sn=0,vn=0;u.forEach((function(n){var t=n.side;if(t%2){var e=n[E]=n[E]||40;ln-=e,1==t&&(sn+=e)}else{var r=n[W]=n[W]||30;fn-=r,2==t&&(vn+=r)}var u="t"==n.type;n.incrs=n.incrs||(u?G:nn),n.values=n.values||(u?I:tn)}));var mn=K-sn,hn=cn-vn,dn=sn+ln,pn=vn+fn;u.forEach((function(n){var t=n.side,e=t%2,r=n.root=Dn((e?"y":"x")+"-labels-"+t,q);if(e){var u=n[E];O(r,E,u),O(r,W,fn),O(r,H,vn),1==t?(O(r,k,mn),mn+=u):(O(r,C,dn),dn+=u)}else{var o=n[W];O(r,W,o),O(r,E,ln),O(r,C,sn),2==t?(O(r,S,hn),hn+=o):(O(r,H,pn),pn+=o)}})),O(B,H,vn),O(B,C,sn),O(q,E,K),O(q,W,cn);var gn,yn,xn=function(n,t){var e=v[j]("canvas"),r=e.getContext("2d");return e[E]=y(n*h),e[W]=y(t*h),O(e,E,n),O(e,W,t),{can:e,ctx:r}}(ln,fn),bn=xn.can,Mn=xn.ctx;function Dn(n,t){var e=v[j]("div");return null!=n&&(e.className=n),null!=t&&t.appendChild(e),e}function wn(n,t,e){return null==n?n:y((1-(n-t.min)/(t.max-t.min))*e)+.5}function Tn(n,t,e){return y((n-t.min)/(t.max-t.min)*e)+.5}function Yn(n,t){return[n,t]}function En(n,t,e){var r=new Date(1e3*n),u=+new Date(r[a](),r[i](),r[c]())/1e3;return[u+T(n-u,e),t]}function Wn(e,o,a){l=null!=e?e+(a?l:0):l,f=null!=o?o+(a?f:0):f,function(){d={},r.forEach((function(n,e){var r=n.scale;r in d||(d[r]={min:1/0,max:-1/0});var u=d[r];u.adj=u.adj||("t"==n.type?En:Yn),0==e?(u.min=t[0][l],u.max=t[0][f]):n.shown&&function(n,t){for(var e=l;f>=e;e++)n.min=b(n.min,t[e]),n.max=M(n.max,t[e]);var r=n.max-n.min,u=w(r||p(n.max)||1),o=g(u),a=D(10,o)/2,i=0==r?a:0,c=n.min;n.min=Y(function(n,t){return g(n/t)*t}(n.min-i,a)),n.max=Y(T(n.max+i,a)),c>=0&&0>n.min&&(n.min=0)}(u,t[e])}))}(),Mn.clearRect(0,0,bn[E],bn[W]),function(){u.forEach((function(t,e){var r,u=0==e?0:1,o=0==u?E:W,a=0==u?W:E,i=d[t.scale];if(null!=i){var c=i.min,l=i.max,f=i.adj,s=function(n,t,e,r){for(var u=e/n,o=0;t.length>o;o++){var a=t[o]*u;if(a>=r)return[t[o],a]}}(l-c,t.incrs,n[o],t.space),v=s[0],m=s[1];l=(r=f(c,l,v))[1];for(var p=[],g=c=r[0];l>=g;g=Y(g+v))p.push(g);var x=t.values(p,m),b=0==u?Tn:wn,M=0==u?C:H,D=p.map((function(n){return b(n,i,bn[o])})),w=t.root[A];if(D.forEach((function(n,e){w=function(n,t,e,r,u){var o=n||Dn(null,t);return o.textContent=e,O(o,r,u),o}(w,t.root,x[e],M,y(n/h))[P]})),w){for(var T;T=w[P];)T.remove();w.remove()}var S=t.grid;S&&(X(S.color||"#eee",S[E],S.dash),Mn.beginPath(),D.forEach((function(n){var t,e,r,o;0==u?(e=0,o=bn[a],t=r=n):(t=0,r=bn[a],e=o=n),Mn.moveTo(t,e),Mn.lineTo(r,o)})),Mn.stroke())}}))}(),function(){r.forEach((function(n,e){e>0&&n.shown&&function(n,t,e,r,u,o,a,i){X(u,o,a,i);var c,s,v,m,h,d,p=!1;Mn.beginPath();for(var g=l;f>=g;g++)h=Tn(n[g],e,bn[E]),null==(d=wn(t[g],r,bn[W]))?(p=!0,Mn.moveTo(h,m)):(h!=c?(p?(Mn.moveTo(h,d),p=!1):g>l&&(Mn.moveTo(c,v),Mn.lineTo(c,s),Mn.moveTo(c,m),Mn.lineTo(h,d)),s=v=d,c=h):(s=b(d,s),v=M(d,v)),m=d);Mn.stroke()}(t[0],t[e],d[r[0].scale],d[n.scale],n.color,n[E],n.dash,n.fill)}))}(),zn()}this.setView=Wn,x&&(gn=Dn("vt",B),yn=Dn("hz",B),jn(gn,ln/2,0),jn(yn,0,fn/2));var Hn=Dn("region",B),Sn=Dn("legend",q),Cn=r.map((function(n,t){var e=Dn("label",Sn);return e.style.color=n.color,e.textContent=n.label+": -",t>0&&qn("click",e,(function(){n.shown=!n.shown,e.classList.toggle("off"),Wn(l,f)})),e})),kn=r.map((function(n,t){if(t>0&&n.shown){var e=Dn("dot",B);return e.style.background=n.color,e}})),An=!1;function Pn(n){return function(n,t,e,r){var u;e=e||0;for(var o=2147483647>=(r=r||t.length-1);r-e>1;)n>t[u=o?e+r>>1:g((e+r)/2)]?e=u:r=u;return n-t[e]>t[r]-n?r:e}(t[0][l]+n/ln*(t[0][f]-t[0][l]),t[0],l,f)}function jn(n,t,e){n.style.transform="translate("+t+"px,"+e+"px)"}var Fn=this;function zn(n){An=!1,x&&(jn(gn,Rn,0),jn(yn,0,Vn));for(var e=Pn(Rn),u=Tn(t[0][e],d[r[0].scale],ln),o=0;r.length>o;o++){var a=r[o];if(o>0&&a.shown){var i=wn(t[o][e],d[a.scale],fn);jn(kn[o],u,i)}Cn[o][A].nodeValue=a.label+": "+a.value(t[o][e])}if(Nn){var c=b(Jn,Rn),l=M(Jn,Rn);O(Hn,C,c),O(Hn,E,l-c)}!1!==n&&Qn.pub(z,Fn,Rn,Vn,ln,fn,e)}var Jn=null,Ln=null,Rn=null,Vn=null,Nn=!1,On=null;function Xn(){On=bn.getBoundingClientRect()}function qn(n,t,e){t.addEventListener(n,e,{passive:!0})}var Bn={};for(var Gn in Bn[z]=function(n,t,e,r,u,o){null==On&&Xn(),null!=n?(Rn=n.clientX-On.left,Vn=n.clientY-On.top,An||(An=!0,s(zn))):(Rn=ln*(e/u),Vn=fn*(r/o),zn(!1))},Bn[J]=function(n,t,e,r,u,o){Nn=!0,null!=n?Qn.pub(J,Fn,Jn=n.clientX-On.left,Ln=n.clientY-On.top,ln,fn,null):(Jn=ln*(e/u),Ln=fn*(r/o))},Bn[L]=function(n){if(Nn=!1,Rn!=Jn||Vn!=Ln){O(Hn,C,0),O(Hn,E,0);var t=b(Jn,Rn),e=M(Jn,Rn);Wn(Pn(t),Pn(e))}null!=n&&Qn.pub(L,Fn,Rn,Vn,ln,fn,null)},Bn[R]=function(n){0==l&&f==o-1||(Wn(0,o-1),null!=n&&Qn.pub(R,Fn,Rn,Vn,ln,fn,null))},Bn)qn(Gn,bn,Bn[Gn]);var In=function(n){var t=null;function e(){t=null,n()}return function(){clearTimeout(t),t=setTimeout(e,100)}}(Xn);qn("resize",m,In),qn("scroll",m,In),this.root=q;var Kn=n.sync,Qn=null!=Kn?on[Kn]=on[Kn]||an():an();Qn.sub(this),this.pub=function(n,t,e,r,u,o,a){Bn[n](null,t,e,r,u,o,a)},N(t,0,t[0].length-1),B.appendChild(bn)}return cn.fmtDate=f,cn}();
