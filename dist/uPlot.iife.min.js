/*! https://github.com/leeoniya/uPlot (v1.0.8) */
var uPlot=function(){"use strict";function n(n,t,e,r){var i;e=e||0;for(var a=2147483647>=(r=r||t.length-1);r-e>1;)n>t[i=a?e+r>>1:o((e+r)/2)]?e=i:r=i;return n-t[e]>t[r]-n?r:e}function t(n,t,e,i){var a=t-n,l=f(a||r(t)||1),u=o(l),c=s(10,u)*e,v=0==a?c:0,h=x(function(n,t){return o(n/t)*t}(n-v,c)),m=x(d(t+v,c));return i&&(0==a?t>0?(h=0,m=2*t):0>t&&(m=0,h=2*n):(c>m-t&&(m+=c),c>n-h&&(h-=c),n>=0&&0>h&&(h=0),0>=t&&m>0&&(m=0))),[h,m]}var e=Math,r=e.abs,o=e.floor,i=e.round,a=e.ceil,l=e.min,u=e.max,s=e.pow,f=e.log10,c=e.PI;function v(n,t){return i(n/t)*t}function h(n,t,e){return l(u(n,t),e)}function m(n){return"function"==typeof n?n:function(){return n}}function p(n,t){return t}function d(n,t){return a(n/t)*t}function g(n){return i(1e3*n)/1e3}function x(n){return i(1e6*n)/1e6}var w=Array.isArray;function b(n){return"object"==typeof n&&null!==n}function y(n){var t;if(w(n))t=n.map(y);else if(b(n))for(var e in t={},n)t[e]=y(n[e]);else t=n;return t}function M(n){for(var t=arguments,e=1;t.length>e;e++){var r=t[e];for(var o in r)b(n[o])?M(n[o],y(r[o])):n[o]=y(r[o])}return n}var k="width",S="height",Y="top",D="left",E=requestAnimationFrame,T=document,W=window,z=devicePixelRatio;function F(n,t){null!=t&&n.classList.add(t)}function A(n,t,e){n.style[t]=e+"px"}function C(n,t,e,r){var o=T.createElement(n);return null!=t&&F(o,t),null!=e&&e.insertBefore(o,r),o}function _(n,t){return C("div",n,t)}function H(n,t,e){n.style.transform="translate("+t+"px,"+e+"px)"}var P={passive:!0};function N(n,t,e){t.addEventListener(n,e,P)}function L(n,t,e){t.removeEventListener(n,e,P)}var I=["January","February","March","April","May","June","July","August","September","October","November","December"],B=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function R(n){return n.slice(0,3)}var j=B.map(R),G=I.map(R),J={MMMM:I,MMM:G,WWWW:B,WWW:j};function U(n){return(10>n?"0":"")+n}var V={YYYY:function(n){return n.getFullYear()},YY:function(n){return(n.getFullYear()+"").slice(2)},MMMM:function(n,t){return t.MMMM[n.getMonth()]},MMM:function(n,t){return t.MMM[n.getMonth()]},MM:function(n){return U(n.getMonth()+1)},M:function(n){return n.getMonth()+1},DD:function(n){return U(n.getDate())},D:function(n){return n.getDate()},WWWW:function(n,t){return t.WWWW[n.getDay()]},WWW:function(n,t){return t.WWW[n.getDay()]},HH:function(n){return U(n.getHours())},H:function(n){return n.getHours()},h:function(n){var t=n.getHours();return 0==t?12:t>12?t-12:t},AA:function(n){return 12>n.getHours()?"AM":"PM"},aa:function(n){return 12>n.getHours()?"am":"pm"},a:function(n){return 12>n.getHours()?"a":"p"},mm:function(n){return U(n.getMinutes())},m:function(n){return n.getMinutes()},ss:function(n){return U(n.getSeconds())},s:function(n){return n.getSeconds()},fff:function(n){return function(n){return(10>n?"00":100>n?"0":"")+n}(n.getMilliseconds())}};function O(n,t){t=t||J;for(var e,r=[],o=/\{([a-z]+)\}|[^{]+/gi;e=o.exec(n);)r.push("{"==e[0][0]?V[e[1]]:e[0]);return function(n){for(var e="",o=0;r.length>o;o++)e+="string"==typeof r[o]?r[o]:r[o](n,t);return e}}function q(n,t,e){for(var o=[],i=n;t>i;i++)for(var a=0;e.length>a;a++){var l=e[a]*s(10,i);o.push(+l.toFixed(r(i)))}return o}var X=[1,2,5],Z=q(-12,0,X),K=q(0,12,X),Q=Z.concat(K),$=3600,nn=86400,tn=30*nn,en=365*nn,rn=[5e-4].concat(q(-3,0,X),[1,5,10,15,30,60,300,600,900,1800,$,7200,3*$,4*$,6*$,8*$,43200,nn,2*nn,3*nn,4*nn,5*nn,6*nn,7*nn,8*nn,9*nn,10*nn,15*nn,tn,2*tn,3*tn,4*tn,6*tn,en,2*en,5*en,10*en,25*en,50*en,100*en]);function on(n,t){return n.map((function(n){return[n[0],t(n[1]),n[2],t(n[4]?n[1]+n[3]:n[3])]}))}var an="{M}/{D}",ln="\n"+an,un="{h}:{mm}{aa}",sn=[[en,"{YYYY}",7,"",1],[28*nn,"{MMM}",7,"\n{YYYY}",1],[nn,an,7,"\n{YYYY}",1],[$,"{h}{aa}",4,ln,1],[60,un,4,ln,1],[1,":{ss}",2,ln+" "+un,1],[.001,":{ss}.{fff}",2,ln+" "+un,1]];function fn(n,t){return function(e,r,o,i){var a=t.find((function(n){return i>=n[0]})),l=null,u=null,s=null;return r.map((function(t){var e=n(t),r=e.getFullYear(),o=e.getDate(),i=e.getMinutes(),f=r!=l,c=o!=u,v=i!=s;return l=r,u=o,s=i,(7==a[2]&&f||4==a[2]&&c||2==a[2]&&v?a[3]:a[1])(e)}))}}function cn(n,t,e){return new Date(n,t,e)}function vn(n,t){return t(n)}function hn(n,t){return function(e,r){return t(n(r))}}var mn={show:!0,x:!0,y:!0,lock:!1,points:{show:function(n,t){var e=n.series[t],r=_();r.style.background=e.stroke||"#000";var o=Dn(e.width,1),i=(o-1)/-2;return A(r,k,o),A(r,S,o),A(r,"marginLeft",i),A(r,"marginTop",i),r}},drag:{setScale:!0,x:!0,y:!1,uni:null},focus:{prox:-1},locked:!1,left:-10,top:-10,idx:null},pn={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},dn=M({},pn,{size:10}),gn='12px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',xn="bold "+gn,wn={type:"x",show:!0,scale:"x",space:50,gap:5,size:50,labelSize:30,labelFont:xn,side:2,grid:pn,ticks:dn,font:gn,rotate:0},bn={show:!0,scale:"x",min:1/0,max:-1/0,idxs:[]},yn=new Intl.NumberFormat(navigator.language);function Mn(n,t){return t.map(yn.format)}function kn(n,t,e,r,o,i){for(var a=[],l=t=i?t:+d(t,r).toFixed(12);e>=l;l=+(l+r).toFixed(12))a.push(l);return a}function Sn(n,t){return t}var Yn={type:"y",show:!0,scale:"y",space:40,gap:5,size:50,labelSize:30,labelFont:xn,side:3,grid:pn,ticks:dn,font:gn,rotate:0};function Dn(n,t){return u(g(5*t),2*g(n*t)-1)}var En={scale:"y",show:!0,band:!1,alpha:1,points:{show:function(n,t){var e=Dn(n.series[t].width,z),r=n.series[0].idxs;return n.bbox.width/e/2>=r[1]-r[0]}},values:null,min:1/0,max:-1/0,idxs:[],path:null,clip:null},Tn={time:!0,auto:!1,distr:1,min:1/0,max:-1/0},Wn=M({},Tn,{time:!1,auto:!0}),zn={};function Fn(){var n=[];return{sub:function(t){n.push(t)},unsub:function(t){n=n.filter((function(n){return n!=t}))},pub:function(t,e,r,o,i,a,l){n.length>1&&n.forEach((function(n){n!=e&&n.pub(t,e,r,o,i,a,l)}))}}}function An(n,t,e,r){return(r?[n[0],n[1]].concat(n.slice(2)):[n[0]].concat(n.slice(1))).map((function(n,r){return Cn(n,r,t,e)}))}function Cn(n,t,e,r){return M({},0==t||n&&n.side%2==0?e:r,n)}function _n(n,t,e,r){return r+(1-(n-t.min)/(t.max-t.min))*e}function Hn(n,t,e,r){return r+(n-t.min)/(t.max-t.min)*e}function Pn(n,t,e){return[t,e>t?e:e+86400]}function Nn(n,t,e){var i=e-t;if(0==i){var a=f(i||r(e)||1),l=o(a)+1;return[t,d(e,s(10,l))]}return[t,e]}function Ln(n,e,r){return t(e,r,.2,!0)}function In(n){return 0==n.button}function Bn(n){var t;return[n=n.replace(/\d+/,(function(n){return t=i(n*z)})),t]}function Rn(t,e,a){var s={},f=s.root=_("uplot");null!=t.id&&(f.id=t.id),F(f,t.class),t.title&&(_("title",f).textContent=t.title);var b=C("canvas"),P=s.ctx=b.getContext("2d"),I=_("wrap",f),B=_("under",I);I.appendChild(b);var R=_("over",I);((t=y(t)).plugins||[]).forEach((function(n){n.opts&&(t=n.opts(s,t)||t)}));var j=!1,G=s.series=An(t.series||[],bn,En,!1),J=s.axes=An(t.axes||[],wn,Yn,!0),U=s.scales=t.scales=t.scales||{},V=M({x:i(Yn.size/2),y:i(wn.size/3)},t.gutters),q=t.tzDate||function(n){return new Date(1e3*n)},X=t.fmtDate||O,Z=function(n){return function(t,e,r,i,a){var l=[],u=i>=tn&&en>i,s=n(e),f=s/1e3,c=cn(s.getFullYear(),s.getMonth(),u?1:s.getDate()),v=c/1e3;if(u)for(var h=i/tn,m=f==v?f:cn(c.getFullYear(),c.getMonth()+h,1)/1e3,p=new Date(1e3*m),w=p.getFullYear(),b=p.getMonth(),y=0;r>=m;y++){var M=cn(w,b+h*y,1);(m=(+M+(M-n(M/1e3)))/1e3)>r||l.push(m)}else{var k=nn>i?i:nn,S=v+(o(e)-o(f))+d(f-v,k);l.push(S);for(var Y=n(S),D=Y.getHours()+Y.getMinutes()/60+Y.getSeconds()/$,E=i/$;;){S=g(S+i);var T=o(x(D+E))%24,W=n(S).getHours()-T;if(W>1&&(W=-1),(S-=W*$)>r)break;D=(D+E)%24,.7>g((S-l[l.length-1])/i)*a||l.push(S)}}return l}}(q),an=fn(q,on(sn,X)),ln=hn(q,vn("{YYYY}-{MM}-{DD} {h}:{mm}{aa}",X)),un={};for(var pn in U){var dn=U[pn];null==dn.min&&null==dn.max||(un[pn]={min:dn.min,max:dn.max})}var gn,xn,yn=M({show:!0},t.legend).show,Rn=[],jn=!1;if(yn){gn=C("table","legend",f);var Gn=G[1]?G[1].values:null;if(jn=null!=Gn){var Jn=C("tr","labels",gn);for(var Un in C("th",null,Jn),xn=Gn(s,1,0))C("th",null,Jn).textContent=Un}else xn={_:0},F(gn,"inline")}var Vn=s.cursor=M({},mn,t.cursor);Vn.points.show=m(Vn.points.show);var On=s.focus=M({},t.focus||{alpha:.3},Vn.focus),qn=On.prox>=0,Xn=[null];function Zn(n,t){var e=n.scale,r=U[e]=M({},0==t?Tn:Wn,U[e]),o=r.time;r.range=m(r.range||(o?Pn:0==t?Nn:Ln)),n.spanGaps=!0===n.spanGaps?p:m(n.spanGaps||[]);var i=n.value;if(n.value=o?function(n){return"string"==typeof n}(i)?hn(q,vn(i,X)):i||ln:i||Sn,n.label=n.label||(o?"Time":"Value"),t>0){n.width=null==n.width?1:n.width,n.paths=n.paths||zt;var a=Dn(n.width,1);n.points=M({},{size:a,width:u(1,.2*a)},n.points),n.points.show=m(n.points.show),n._paths=null}if(yn&&Rn.splice(t,0,function(n,t){if(0==t&&jn)return null;var e=[],r=C("tr","series",gn,gn.childNodes[t]);F(r,n.class),n.show||F(r,"off");var o=C("th",null,r),i=_("ident",o);n.width&&(i.style.borderColor=n.stroke),i.style.backgroundColor=n.fill;var a=_("text",o);for(var l in a.textContent=n.label,t>0&&(N("click",o,(function(t){Vn.locked||In(t)&&Vt(G.indexOf(n),{show:!n.show},ge.setSeries)})),qn&&N("mouseenter",o,(function(){Vn.locked||Vt(G.indexOf(n),{focus:!0},ge.setSeries)}))),xn){var u=C("td",null,r);u.textContent="--",e.push(u)}return e}(n,t)),Vn.show){var l=function(n,t){if(t>0){var e=Vn.points.show(s,t);if(e)return F(e,"cursor-pt"),F(e,n.class),H(e,-10,-10),R.insertBefore(e,Xn[t]),e}}(n,t);l&&Xn.splice(t,0,l)}}for(var Kn in s.addSeries=function(n,t){n=Cn(n,t=null==t?G.length:t,bn,En),G.splice(t,0,n),Zn(G[t],t)},s.delSeries=function(n){G.splice(n,1),Rn.splice(n,1)[0][0].parentNode.remove(),Xn.splice(n,1)[0].remove()},G.forEach(Zn),U){var Qn=U[Kn];null!=Qn.from&&(U[Kn]=M({},U[Qn.from],Qn))}var $n,nt=G[0].scale,tt=U[nt].distr;J.forEach((function(n){if(n.show){var t=U[n.scale];null==t&&(n.scale=n.side%2?G[1].scale:nt,t=U[n.scale]);var e=t.time;n.space=m(n.space),n.rotate=m(n.rotate),n.incrs=m(n.incrs||(2==t.distr?K:e?rn:Q)),n.split=m(n.split||(e&&1==t.distr?Z:kn));var r=n.values;n.values=e?w(r)?fn(q,on(r,X)):r||an:r||Mn,n.font=Bn(n.font),n.labelFont=Bn(n.labelFont)}}));var et,rt,ot,it,at,lt,ut,st,ft,ct,vt=null,ht=null,mt=G[0].idxs,pt=null;function dt(n,t){(n=n||[])[0]=n[0]||[],s.data=n,e=n.slice(),$n=(pt=e[0]).length,2==tt&&(e[0]=pt.map((function(n,t){return t}))),Ct(),de("setData"),!1!==t&&gt()}function gt(){vt=mt[0]=0,ht=mt[1]=$n-1,Ut(nt,2==tt?vt:e[0][vt],2==tt?ht:e[0][ht])}function xt(n,t,e,r){P.strokeStyle=n||"#000",P.lineWidth=t,P.lineJoin="round",P.setLineDash(e||[]),P.fillStyle=r||"#000"}function wt(n,t){s.width=et=ot=n,s.height=rt=it=t,at=lt=0,function(){var n=!1,t=!1,e=!1,r=!1;J.forEach((function(o){if(o.show){var i=o.side,a=i%2,l=o.size+(o.labelSize=null!=o.label?o.labelSize||30:0);l>0&&(a?(ot-=l,3==i?(at+=l,r=!0):e=!0):(it-=l,0==i?(lt+=l,n=!0):t=!0))}})),(n||t)&&(e||(ot-=V.x),r||(ot-=V.x,at+=V.x)),(r||e)&&(t||(it-=V.y),n||(it-=V.y,lt+=V.y))}(),function(){var n=at+ot,t=lt+it,e=at,r=lt;function o(o,i){switch(o){case 1:return(n+=i)-i;case 2:return(t+=i)-i;case 3:return(e-=i)+i;case 0:return(r-=i)+i}}J.forEach((function(n){var t=n.side;n._pos=o(t,n.size),null!=n.label&&(n._lpos=o(t,n.labelSize))}))}();var e=s.bbox;ut=e[D]=v(at*z,.5),st=e.top=v(lt*z,.5),ft=e[k]=v(ot*z,.5),ct=e[S]=v(it*z,.5),A(B,D,at),A(B,Y,lt),A(B,k,ot),A(B,S,it),A(R,D,at),A(R,Y,lt),A(R,k,ot),A(R,S,it),A(I,k,et),A(I,S,rt),b[k]=i(et*z),b[S]=i(rt*z),ae(),j&&Ut(nt,U[nt].min,U[nt].max),j&&de("setSize")}function bt(){if(Qt)ne=!0;else{if($n>0){var t=y(U);for(var r in t){var o=t[r],i=un[r];null!=i?(M(o,i),r==nt&&Ct()):r!=nt&&(o.min=1/0,o.max=-1/0)}for(var a in G.forEach((function(r,o){var i=r.scale,a=t[i];if(0==o){var f=a.range(s,a.min,a.max);a.min=f[0],a.max=f[1],vt=n(a.min,e[0]),ht=n(a.max,e[0]),a.min>e[0][vt]&&vt++,e[0][ht]>a.max&&ht--,r.min=pt[vt],r.max=pt[ht]}else if(r.show&&null==un[i]){var c=r.min==1/0?a.auto?function(n,t,e){for(var r=1/0,o=-1/0,i=t;e>=i;i++)null!=n[i]&&(r=l(r,n[i]),o=u(o,n[i]));return[r,o]}(e[o],vt,ht):[0,100]:[r.min,r.max];a.min=l(a.min,r.min=c[0]),a.max=u(a.max,r.max=c[1])}r.idxs[0]=vt,r.idxs[1]=ht})),t){var f=t[a];if(null==f.from&&f.min!=1/0&&null==un[a]){var c=f.range(s,f.min,f.max);f.min=c[0],f.max=c[1]}}for(var v in t){var h=t[v];if(null!=h.from){var m=t[h.from];if(m.min!=1/0){var p=h.range(s,m.min,m.max);h.min=p[0],h.max=p[1]}}}var d={};for(var g in t){var x=t[g],w=U[g];w.min==x.min&&w.max==x.max||(w.min=x.min,w.max=x.max,d[g]=!0),un[g]=null}for(var b in G.forEach((function(n){d[n.scale]&&(n._paths=null)})),d)de("setScale",b)}Vn.show&&oe()}}s.setData=dt,s.bbox={},s.setSize=function(n){wt(n.width,n.height)};var yt,Mt,kt,St,Yt,Dt,Et,Tt=1;function Wt(n,t){var e=new Set(G[n].spanGaps(s,t,n)),r=null;if((t=t.filter((function(n){return!e.has(n)}))).length>0){r=new Path2D;for(var o=ut,i=0;t.length>i;i++){var a=t[i];r.rect(o,st,a[0]-o,st+ct),o=a[1]}r.rect(o,st,ut+ft-o,st+ct)}return r}function zt(n,t,r,o){var a,s,f=G[t],c=e[0],v=e[t],h=U[nt],m=U[f.scale],p=1==Tt?{stroke:new Path2D,fill:null,clip:null}:G[t-1]._paths,d=p.stroke,x=g(f[k]*z),w=1/0,b=-1/0,y=[],M=i(Hn(c[1==Tt?r:o],h,ft,ut));f.band&&1==Tt&&r==vt&&(x&&d.lineTo(-x,i(_n(v[r],m,ct,st))),c[0]>h.min&&y.push([ut,M-1]));for(var S=1==Tt?r:o;S>=r&&o>=S;S+=Tt){var Y=i(Hn(c[S],h,ft,ut));if(Y==M)null!=v[S]&&(a=i(_n(v[S],m,ct,st)),w=l(a,w),b=u(a,b));else{var D=!1;if(w!=1/0?(d.lineTo(M,w),d.lineTo(M,b),d.lineTo(M,a),s=M):D=!0,null!=v[S]?(a=i(_n(v[S],m,ct,st)),d.lineTo(Y,a),w=b=a,Y-M>1&&null==v[S-1]&&(D=!0)):(w=1/0,b=-1/0),D){var E=y[y.length-1];E&&E[0]==s?E[1]=Y:y.push([s,Y])}M=Y}}if(f.band){var T,W,F=100*x;-1==Tt&&r==vt&&(W=ut-F,T=r),1==Tt&&o==ht&&(W=ut+ft+F,T=o,h.max>c[$n-1]&&y.push([M,ut+ft])),d.lineTo(W,i(_n(v[T],m,ct,st)))}if(1==Tt&&(p.clip=Wt(t,y),null!=f.fill)){var A=p.fill=new Path2D(d),C=i(_n(0,m,ct,st));A.lineTo(ut+ft,C),A.lineTo(ut,C)}return f.band&&(Tt*=-1),p}function Ft(n,t,e,r){var o;if(r>0){var i=n.space(s,t,e,r);(o=function(n,t,e,r){for(var o=e/n,i=0;t.length>i;i++){var a=t[i]*o;if(a>=r)return[t[i],a]}}(e-t,n.incrs(s,t,e,r,i),r,i)).push(o[1]/i)}else o=[0,0];return o}function At(n,t,e,r,o,i,a,l){var u=i%2/2;P.translate(u,u),xt(a,i,l),P.beginPath();var s,f,c,v,h=r+(0==e||3==e?-o:o);0==t?(f=r,v=h):(s=r,c=h),n.forEach((function(n){0==t?s=c=n:f=v=n,P.moveTo(s,f),P.lineTo(c,v)})),P.stroke(),P.translate(-u,-u)}function Ct(){G.forEach((function(n,t){t>0&&(n.min=1/0,n.max=-1/0,n._paths=null)}))}function _t(){Qt?$t=!0:(P.clearRect(0,0,b[k],b[S]),de("drawClear"),function(){J.forEach((function(n){if(n.show){var t=U[n.scale];if(t.min!=1/0){var e=n.side,r=e%2,o=t.min,a=t.max,l=Ft(n,o,a,0==r?ot:it),u=l[0],f=l[1],v=n.split(s,o,a,u,l[2],2==t.distr),h=0==r?Hn:_n,m=0==r?ft:ct,p=0==r?ut:st,d=v.map((function(n){return i(h(n,t,m,p))})),x=i(n.gap*z),w=n.ticks,b=w.show?i(w.size*z):0,y=n.values(s,2==t.distr?v.map((function(n){return pt[n]})):v,f,2==t.distr?pt[v[1]]-pt[v[0]]:u),M=2==e?n.rotate(s,y,f)*-c/180:0,S=i(n._pos*z),E=S+(b+x)*(0==r&&0==e||1==r&&3==e?-1:1),T=0==r?E:0,W=1==r?E:0;P.font=n.font[0],P.fillStyle=n.stroke||"#000",P.textAlign=M>0?D:0>M?"right":0==r?"center":3==e?"right":D,P.textBaseline=M||1==r?"middle":2==e?Y:"bottom";var F=1.5*n.font[1];if(y.forEach((function(n,t){0==r?W=d[t]:T=d[t],(""+n).split(/\n/gm).forEach((function(n,t){M?(P.save(),P.translate(W,T+t*F),P.rotate(M),P.fillText(n,0,0),P.restore()):P.fillText(n,W,T+t*F)}))})),n.label){P.save();var A=i(n._lpos*z);1==r?(W=T=0,P.translate(A,i(st+ct/2)),P.rotate((3==e?-c:c)/2)):(W=i(ut+ft/2),T=A),P.font=n.labelFont[0],P.textAlign="center",P.textBaseline=2==e?Y:"bottom",P.fillText(n.label,W,T),P.restore()}w.show&&At(d,r,e,S,b,g(w[k]*z),w.stroke);var C=n.grid;C.show&&At(d,r,0==r?2:1,0==r?st:ut,0==r?ct:ft,g(C[k]*z),C.stroke,C.dash)}}})),de("drawAxes")}(),function(){G.forEach((function(n,t){if(t>0&&n.show&&null==n._paths){var r=function(n){for(var t=h(vt-1,0,$n-1),e=h(ht+1,0,$n-1);null==n[t]&&t>0;)t--;for(;null==n[e]&&$n-1>e;)e++;return[t,e]}(e[t]);n._paths=n.paths(s,t,r[0],r[1])}})),G.forEach((function(n,t){t>0&&n.show&&(n._paths&&function(n){var t=G[n];if(1==Tt){var e=t._paths,r=e.stroke,o=e.fill,i=e.clip,a=g(t[k]*z),l=a%2/2;xt(t.stroke,a,t.dash,t.fill),P.globalAlpha=t.alpha,P.translate(l,l),P.save();var u=ut,s=st,f=ft,c=ct,v=a*z/2;0==t.min&&(c+=v),0==t.max&&(s-=v,c+=v),P.beginPath(),P.rect(u,s,f,c),P.clip(),null!=i&&P.clip(i),t.band?(P.fill(r),a&&P.stroke(r)):(a&&P.stroke(r),null!=t.fill&&P.fill(o)),P.restore(),P.translate(-l,-l),P.globalAlpha=1}t.band&&(Tt*=-1)}(t),n.points.show(s,t,vt,ht)&&function(n){var t=G[n],r=t.points,o=g(t[k]*z),a=o%2/2,l=r.width>0,u=(r.size-r.width)/2*z,s=g(2*u);P.translate(a,a),P.save(),P.beginPath(),P.rect(ut-s,st-s,ft+2*s,ct+2*s),P.clip(),P.globalAlpha=t.alpha;for(var f=new Path2D,v=vt;ht>=v;v++)if(null!=e[n][v]){var h=i(Hn(e[0][v],U[nt],ft,ut)),m=i(_n(e[n][v],U[t.scale],ct,st));f.moveTo(h+u,m),f.arc(h,m,u,0,2*c)}xt(r.stroke||t.stroke||"#000",o,null,r.fill||(l?"#fff":t.stroke||"#000")),P.fill(f),l&&P.stroke(f),P.globalAlpha=1,P.restore(),P.translate(-a,-a)}(t),de("drawSeries",t))}))}(),yt=!0,de("draw"))}function Ht(t,r){var o=U[t];if(null==o.from){if(t==nt&&(2==o.distr&&(r.min=n(r.min,e[0]),r.max=n(r.max,e[0])),o.time&&J[0].show&&r.max>r.min&&.001>Ft(J[0],r.min,r.max,ot)[0]))return;un[t]=r,yt=!1,bt(),!yt&&_t(),yt=!1}}s.redraw=function(n){!1!==n?Ut(nt,U[nt].min,U[nt].max):_t()},s.setScale=Ht;var Pt=!1,Nt=Vn.drag,Lt=Nt.x,It=Nt.y;if(Vn.show){var Bt="cursor-";Vn.x&&(Dt=Vn.left,Mt=_(Bt+"x",R)),Vn.y&&(Et=Vn.top,kt=_(Bt+"y",R))}var Rt=s.select=M({show:!0,left:0,width:0,top:0,height:0},t.select),jt=Rt.show?_("select",R):null;function Gt(n,t){if(Rt.show){for(var e in n)A(jt,e,Rt[e]=n[e]);!1!==t&&de("setSelect")}}function Jt(n){var t=yn?Rn[n][0].parentNode:null;G[n].show?t&&function(n){n.classList.remove("off")}(t):(t&&F(t,"off"),Xn.length>1&&H(Xn[n],0,-10))}function Ut(n,t,e){Ht(n,{min:t,max:e})}function Vt(n,t,e){var r=G[n];if(null!=t.focus&&function(n){n!=Xt&&(G.forEach((function(t,e){!function(n,t){var e=G[n];Ot(n,t),e.band&&Ot(G[n+1].band?n+1:n-1,t)}(e,null==n||0==e||e==n?1:On.alpha)})),Xt=n,_t())}(n),null!=t.show){if(r.show=t.show,Jt(n),r.band){var o=G[n+1]&&G[n+1].band?n+1:n-1;G[o].show=r.show,Jt(o)}Ut(nt,U[nt].min,U[nt].max)}de("setSeries",n,t),e&&we.pub("setSeries",s,n,t)}function Ot(n,t){G[n].alpha=t,Rn&&(Rn[n][0].parentNode.style.opacity=t)}s.setSelect=Gt,s.setSeries=Vt;var qt=Array(G.length),Xt=null;function Zt(n,t){var e=h(n/(t==nt?ot:it),0,1),r=U[t];return r.min+e*(r.max-r.min)}function Kt(t){return n(Zt(t,nt),e[0],vt,ht)}yn&&qn&&N("mouseleave",gn,(function(){Vn.locked||(Vt(null,{focus:!1},ge.setSeries),oe())})),s.valToIdx=function(t){return n(t,e[0])},s.posToIdx=Kt,s.posToVal=function(n,t){return Zt(t==nt?n:it-n,t)},s.valToPos=function(n,t,e){return t==nt?Hn(n,U[t],e?ft:ot,e?ut:0):_n(n,U[t],e?ct:it,e?st:0)};var Qt=!1,$t=!1,ne=!1,te=!1;function ee(n){Qt=!0,n(s),Qt=!1,ne&&bt(),te&&oe(),$t&&!yt&&_t(),ne=te=$t=yt=Qt}s.batch=ee,s.setCursor=function(n){Dt=n.left,Et=n.top,oe()};var re=0;function oe(n){if(Qt)te=!0;else{var t;if(re=0,Vn.show&&(Vn.x&&H(Mt,i(Dt),0),Vn.y&&H(kt,0,i(Et))),0>Dt||0==$n){t=null;for(var o=0;G.length>o;o++)if(o>0&&(qt[o]=1/0,Xn.length>1&&H(Xn[o],-10,-10)),yn){if(0==o&&jn)continue;for(var a=0;Rn[o].length>a;a++)Rn[o][a].firstChild.nodeValue="--"}qn&&Vt(null,{focus:!0},ge.setSeries)}else{t=Kt(Dt);for(var f=g(Hn(e[0][t],U[nt],ot,0)),c=0;G.length>c;c++){var v=G[c];if(c>0&&v.show){var h=e[c][t],m=null==h?-10:g(_n(h,U[v.scale],it,0));qt[c]=m>0?r(m-Et):1/0,Xn.length>1&&H(Xn[c],f,m)}else qt[c]=1/0;if(yn){if(0==c&&jn)continue;var p=0==c&&2==tt?pt:e[c],d=jn?v.values(s,c,t):{_:v.value(s,p[t],c,t)},x=0;for(var w in d)Rn[c][x++].firstChild.nodeValue=d[w]}}}if(Dt>=0&&Rt.show&&Pt){Lt=Nt.x,It=Nt.y;var b=Nt.uni;if(null!=b){var y=r(St-Dt),M=r(Yt-Et);It=M>=b,(Lt=y>=b)||It||(M>y?It=!0:Lt=!0)}if(Lt){var E=l(St,Dt),T=u(St,Dt);A(jt,D,Rt[D]=E),A(jt,k,Rt[k]=T-E),null==b||It||(A(jt,Y,Rt.top=0),A(jt,S,Rt[S]=it))}if(It){var W=l(Yt,Et),z=u(Yt,Et);A(jt,Y,Rt.top=W),A(jt,S,Rt[S]=z-W),null==b||Lt||(A(jt,D,Rt[D]=0),A(jt,k,Rt[k]=ot))}}if(null!=n&&(we.pub("mousemove",s,Dt,Et,ot,it,t),qn)){var F=l.apply(null,qt),C=null;F>On.prox||qt.some((function(n,t){if(n==F)return C=t})),Vt(C,{focus:!0},ge.setSeries)}Vn.idx=t,Vn.left=Dt,Vn.top=Et,j&&de("setCursor")}}var ie=null;function ae(){ie=R.getBoundingClientRect()}function le(n,t,e,r,o,i){Vn.locked||(ue(n,0,e,r,o,i,0,!1,null!=n),null!=n?0==re&&(re=E(oe)):oe())}function ue(n,t,e,r,o,i,a,l,u){null!=n?(e=n.clientX-ie.left,r=n.clientY-ie.top):(e=ot*(e/o),r=it*(r/i)),u&&(e>1&&ot-1>e||(e=v(e,ot)),r>1&&it-1>r||(r=v(r,it))),l?(St=e,Yt=r):(Dt=e,Et=r)}function se(){Gt({width:Nt.x?0:ot,height:Nt.y?0:it},!1)}function fe(n,t,e,r,o,i){(null==n||In(n))&&(Pt=!0,ue(n,0,e,r,o,i,0,!0,!0),Rt.show&&(Nt.x||Nt.y)&&se(),null!=n&&(N("mouseup",T,ce),we.pub("mousedown",s,St,Yt,ot,it,null)))}function ce(n,t,e,r,o,i){(null==n||In(n))&&(Pt=!1,ue(n,0,e,r,o,i,0,!1,!0),Dt!=St||Et!=Yt?(Gt(Rt),Nt.setScale&&(ee((function(){if(Lt&&Ut(nt,Zt(Rt[D],nt),Zt(Rt[D]+Rt[k],nt)),It)for(var n in U)n!=nt&&null==U[n].from&&Ut(n,Zt(it-Rt.top-Rt[S],n),Zt(it-Rt.top,n))})),se())):Vn.lock&&(Vn.locked=!Vn.locked,Vn.locked||oe()),null!=n&&(L("mouseup",T,ce),we.pub("mouseup",s,Dt,Et,ot,it,null)))}function ve(n){gt(),null!=n&&we.pub("dblclick",s,Dt,Et,ot,it,null)}var he,me={};me.mousedown=fe,me.mousemove=le,me.mouseup=ce,me.dblclick=ve,me.setSeries=function(n,t,e,r){Vt(e,r)},Vn.show&&(N("mousedown",R,fe),N("mousemove",R,le),N("mouseenter",R,ae),N("mouseleave",R,(function(){Vn.locked||Pt||(Dt=-10,Et=-10,oe(1))})),Nt.setScale&&N("dblclick",R,ve),he=function(n){var t=null;function e(){t=null,n()}return function(){clearTimeout(t),t=setTimeout(e,100)}}(ae),N("resize",W,he),N("scroll",W,he),s.syncRect=ae);var pe=s.hooks=t.hooks||{};function de(n,t,e){n in pe&&pe[n].forEach((function(n){n.call(null,s,t,e)}))}(t.plugins||[]).forEach((function(n){for(var t in n.hooks)pe[t]=(pe[t]||[]).concat(n.hooks[t])}));var ge=M({key:null,setSeries:!1},Vn.sync),xe=ge.key,we=null!=xe?zn[xe]=zn[xe]||Fn():Fn();function be(){wt(t[k],t[S]),de("init",t,e),dt(e||t.data,!1),un[nt]?Ht(nt,un[nt]):gt(),Gt(Rt,!1),j=!0,de("ready")}return we.sub(s),s.pub=function(n,t,e,r,o,i,a){me[n](null,t,e,r,o,i,a)},s.destroy=function(){we.unsub(s),L("resize",W,he),L("scroll",W,he),f.remove(),de("destroy")},a?a instanceof HTMLElement?(a.appendChild(f),be()):a(s,be):be(),s}return Rn.assign=M,Rn.rangeNum=t,Rn.fmtDate=O,Rn.tzDate=function(n,t){var e=new Date(n.toLocaleString("en-US",{timeZone:t}));return e.setMilliseconds(n.getMilliseconds()),e},Rn}();
