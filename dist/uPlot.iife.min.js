/*! https://github.com/leeoniya/uPlot (v0.1.0) */
var uPlot=function(){"use strict";var n=["January","February","March","April","May","June","July","August","September","October","November","December"],t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function e(n){return n.slice(0,3)}var r=t.map(e),a=n.map(e);function i(n){return(10>n?"0":"")+n}var u="getFullYear",o="getMonth",l="getDate",c={YYYY:function(n){return n[u]()},YY:function(n){return(n[u]()+"").slice(2)},MMMM:function(t){return n[t[o]()]},MMM:function(n){return a[n[o]()]},MM:function(n){return i(n[o]()+1)},M:function(n){return n[o]()+1},DD:function(n){return i(n[l]())},D:function(n){return n[l]()},WWWW:function(n){return t[n.getDay()]},WWW:function(n){return r[n.getDay()]},HH:function(n){return i(n.getHours())},H:function(n){return n.getHours()},h:function(n){var t=n.getHours();return 0==t?12:t>12?t-12:t},AA:function(n){return 12>n.getHours()?"AM":"PM"},aa:function(n){return 12>n.getHours()?"am":"pm"},mm:function(n){return i(n.getMinutes())},m:function(n){return n.getMinutes()},ss:function(n){return i(n.getSeconds())},s:function(n){return n.getSeconds()},fff:function(n){return function(n){return(10>n?"00":100>n?"0":"")+n}(n.getMilliseconds())}};function f(n){for(var t,e=[],r=/\{([a-z]+)\}|[^{]+/iy;t=r.exec(n);)e.push("{"==t[0][0]?c[t[1]]:t[0]);return function(n){for(var t="",r=0;e.length>r;r++)t+="string"==typeof e[r]?e[r]:e[r](n);return t}}var s=requestAnimationFrame,v=document,m=window,h=devicePixelRatio,d=Math,p=d.abs,g=d.floor,x=d.round,y=d.ceil,b=d.min,w=d.max,D=d.pow,M=d.log10,Y=1/0;function E(n){return"function"==typeof n?n:function(){return n}}function T(n,t){return y(n/t)*t}function S(n){return x(1e6*n)/1e6}var z="width",C="height",W="top",A="bottom",H="left",k="right",P="firstChild",L="nextSibling",F="createElement",J="#000",O="classList",R="mousemove",V="mousedown",B="mouseup",X="dblclick",j="resize",q="scroll",N=Object.assign,U=Array.isArray,Z={color:"#eee",width:2},G=1,I=60,K=I*I,Q=24*K,$=365*Q,_=[.001,.002,.005,.01,.02,.05,.1,.2,.5],nn=_.concat([1,5,10,15,30,I,5*I,10*I,15*I,30*I,K,2*K,3*K,4*K,6*K,8*K,12*K,Q,2*Q,3*Q,4*Q,5*Q,6*Q,7*Q,8*Q,9*Q,10*Q,$,2*$,5*$,10*$,25*$,50*$,100*$]),tn="{M}/{D}",en=f("{YYYY}"),rn=f(tn),an=f(tn+"\n{YYYY}"),un=f("{h}{aa}"),on=f("{h}:{mm}{aa}"),ln=f("{h}:{mm}:{ss}{aa}"),cn="\n"+tn,fn=f("{h}{aa}"+cn),sn=f("{h}:{mm}{aa}"+cn),vn=f("{h}:{mm}:{ss}{aa}"+cn);function mn(n){var t=this,e=n[1]-n[0],r=null,a=null;return n.map((function(n){var i,o=t.tzDate(n),c=o[u](),f=o[l](),s=f!=a;return $>e?Q>e?K>e?I>e?G>e||(i=s?vn:ln):i=s?sn:on:i=s?fn:un:i=c!=r?an:rn:i=en,r=c,a=f,i(o)}))}var hn=f("{YYYY}-{MM}-{DD} {h}:{mm}{aa}");function dn(n){return hn(this.tzDate(n))}var pn={scale:"x",space:50,height:53,side:0,class:"x-vals",grid:Z},gn="Value",xn="Time",yn={scale:"x",min:Y,max:-Y},bn=_.concat([1,2,5,10,20,50,100,200,500,1e3,2e3,5e3,1e4,2e4,5e4,1e5,2e5,5e5,1e6,2e6,5e6,1e7,2e7,5e7,1e8,2e8,5e8,1e9]);function wn(n){return n}function Dn(n){return n}var Mn={scale:"y",space:40,width:50,side:1,class:"y-vals",grid:Z},Yn={scale:"y",show:!0,band:!1,min:Y,max:-Y,path:null},En={};function Tn(){var n=[];return{sub:function(t){n.push(t)},unsub:function(t){n=n.filter((function(n){return n!=t}))},pub:function(t,e,r,a,i,u,o){n.length>1&&n.forEach((function(n){n!=e&&n.pub(t,e,r,a,i,u,o)}))}}}function Sn(n,t,e){return[n.x].concat(n.y).map((function(n,r){return N({},0==r?t:e,n)}))}function zn(n){return{x:n[0],y:n.slice(1)}}function Cn(n,t){var e=this,r=Sn(n.series,yn,Yn),a=Sn(n.axes||{},pn,Mn),i=n.scales=n.scales||{};e.tzDate=n.tzDate||function(n){return new Date(1e3*n)},e.series=zn(r),e.axes=zn(a),e.scales=i;var c=N({},{show:!0},n.legend);r.forEach((function(n,t){var e=n.scale,r=i[e]=N({type:0==t?"t":"n",auto:!0,min:Y,max:-Y},i[e]);r.range=E(r.range||(t>0&&"n"==r.type?Ln:Pn)),n.type=n.type||r.type;var a="t"==n.type;n.value=n.value||(a?dn:Dn),n.label=n.label||(a?xn:gn),n.width=n.width||1}));var f,d=N({},{show:!0},n.cursor);function y(n,r,a){f=(t=n)[0].length,jn(),qn(null!=r?r:e.i0,null!=a?a:e.i1)}function Z(n,t,e){n.style[t]=e+"px"}function G(n,t,e,r){Cn.strokeStyle=n||J,Cn.lineWidth=t||1,Cn.lineJoin="round",Cn.setLineDash(e||[]),Cn.fillStyle=r||J}e.i0=null,e.i1=null,e.setData=y;var I=An("uplot");null!=n.id&&(I.id=n.id),null!=n.class&&I[O].add(n.class),null!=n.title&&(An("title",I).textContent=n.title);var K=An("wrap",I),Q=An("plot",K),$=n[z],_=n[C],tn=$,en=_,rn=0,an=0;a.forEach((function(n){var t=n.side,e=null!=n.label?30:0;if(t%2){var r=n[z]+e;tn-=r,1==t&&(rn+=r)}else{var a=n[C]+e;en-=a,2==t&&(an+=a)}n.type=n.type||i[n.scale].type;var u="t"==n.type;n.incrs=n.incrs||(u?nn:bn),n.values=n.values||(u?mn:wn),n.range=E(n.range||(u?Fn:Jn)),n.space=E(n.space)}));var un=$-rn,on=_-an,ln=rn+tn,cn=an+en;function fn(n,t,e){var r=n.side,a=r%2,i=An((a?"y-":"x-")+t+"-"+r,K);if(i.style.color=n.color,Wn(i,n.class),a){var u=e||n[z];Z(i,z,u),Z(i,C,en),Z(i,W,an),1==r?(Z(i,k,un),un+=u):(Z(i,H,ln),ln+=u)}else{var o=e||n[C];Z(i,C,o),Z(i,z,tn),Z(i,H,rn),2==r?(Z(i,A,on),on+=o):(Z(i,W,cn),cn+=o)}return i}function sn(n,t,e,r){n.transformOrigin=t,n.transform="rotate("+e+"deg) translateY("+r+"px)"}a.forEach((function(n){if(n.vals=fn(n,"values"),null!=n.label){var t=n.side,e=t%2,r=An("label",fn(n,"labels",30));if(r.textContent=n.label,Z(r,C,30),e){Z(r,z,en);var a=r.style;3==t?sn(a,"0 0",90,-30):sn(a,"100% 0",-90,-en)}}})),Z(Q,W,an),Z(Q,H,rn),Z(K,z,$),Z(K,C,_);var vn=function(n,t){var e=v[F]("canvas"),r=e.getContext("2d");return e[z]=x(n*h),e[C]=x(t*h),Z(e,z,n),Z(e,C,t),{can:e,ctx:r}}(tn,en),hn=vn.can,Cn=vn.ctx;function Wn(n,t){n[O].add(t)}function An(n,t){var e=v[F]("div");return null!=n&&Wn(e,n),null!=t&&t.appendChild(e),e}function Hn(n,t,e){return null==n?n:x((1-(n-t.min)/(t.max-t.min))*e)}function kn(n,t,e){return x((n-t.min)/(t.max-t.min)*e)}function Pn(n,t){return[n,t]}function Ln(n,t){var e=t-n,r=M(e||p(t)||1),a=g(r),i=D(10,a)/5,u=0==e?i:0,o=S(function(n,t){return g(n/t)*t}(n-u,i)),l=S(T(t+u,i));return 0==e?t>0?o=0:0>t&&(l=0):(i>l-t&&(l+=i),i>n-o&&(o-=i),n>=0&&0>o&&(o=0),0>=t&&l>0&&(l=0)),[o,l]}function Fn(n,t,r){var a=e.tzDate(n),i=+new Date(a[u](),a[o](),a[l]())/1e3;return[n=i+(n-(a/=1e3))+T(a-i,r),t]}function Jn(n,t,e){return[S(T(n,e)),t]}var On,Rn,Vn=1;function Bn(n){return 0==n.button}function Xn(n){for(var t;t=n[L];)t.remove();n.remove()}function jn(){r.forEach((function(n){n.min=Y,n.max=-Y,n.path=null}))}function qn(n,u){n==e.i0&&u==e.i1||jn(),e.i0=n,e.i1=u,function(){var n={};for(var a in r.forEach((function(r,a){var u=r.scale,o=i[u];if(null==n[u]&&(n[u]={min:o.min,max:o.max},o.min=Y,o.max=-Y),0==a){var l=o.range(t[0][e.i0],t[0][e.i1]);o.min=r.min=l[0],o.max=r.max=l[1]}else if(r.show){var c=r.min==Y?o.auto?function(n,t,e){for(var r=Y,a=-Y,i=t;e>=i;i++)r=b(r,n[i]),a=w(a,n[i]);return[r,a]}(t[a],e.i0,e.i1):[0,100]:[r.min,r.max];o.min=b(o.min,r.min=c[0]),o.max=w(o.max,r.max=c[1])}})),i){var u=i[a];if(null==u.base&&u.min!=Y){var o=u.range(u.min,u.max);u.min=o[0],u.max=o[1]}}for(var l in i){var c=i[l];if(null!=c.base){var f=i[c.base];if(f.min!=Y){var s=c.range(f.min,f.max);c.min=s[0],c.max=s[1]}}}r.forEach((function(t){var e=t.scale,r=i[e];r.min==n[e].min&&r.max==n[e].max||(t.path=null)}))}(),Cn.clearRect(0,0,hn[z],hn[C]),function(){a.forEach((function(n,t){var r,a=0==t?0:1,u=0==a?z:C,o=0==a?C:z,l=i[n.scale],c=n.vals[P];if(l.min!=Y){var f=l.min,s=l.max,v=function(n,t,e,r){for(var a=e/n,i=0;t.length>i;i++){var u=t[i]*a;if(u>=r)return[t[i],u]}}(s-f,n.incrs,hn[u],n.space(f,s,hn[u])),m=v[0],d=v[1];s=(r=n.range(f,s,m))[1];for(var p=[],g=f=r[0];s>=g;g=S(g+m))p.push(g);var y=0==a?kn:Hn,b=0==a?H:W,w=p.map((function(n){return y(n,l,hn[u])})),D=n.values.call(e,p,d);w.forEach((function(t,e){c=function(n,t,e,r,a){var i=n||An(null,t);return i.textContent=e,Z(i,r,a),i}(c,n.vals,D[e],b,x(t/h))[L]})),c&&Xn(c);var M=n.grid;if(M){var E=M[z]%2/2;Cn.translate(E,E),G(M.color||"#eee",M[z],M.dash),Cn.beginPath(),w.forEach((function(n){var t,e,r,i;0==a?(e=0,i=hn[o],t=r=n):(t=0,r=hn[o],e=i=n),Cn.moveTo(t,e),Cn.lineTo(r,i)})),Cn.stroke(),Cn.translate(-E,-E)}}else c&&Xn(c)}))}(),function(){r.forEach((function(n,a){a>0&&n.show&&null==n.path&&function(n,t,a,i,u){for(var o,l,c,f=r[n],s=f.path=1==Vn?new Path2D:r[n-1].path,v=f[z],m=v%2/2,h=!1,d=Y,p=-Y,g=1==Vn?m:hn[z]+m,x=1==Vn?e.i0:e.i1;1==Vn?e.i1>=x:x>=e.i0;x+=Vn)l=kn(t[x],i,hn[z]),c=Hn(a[x],u,hn[C]),-1==Vn&&x==e.i1&&s.lineTo(l,c),null==c?(h=!0,s.moveTo(l,o)):(v>(1==Vn?l-g:g-l)?(d=b(c,d),p=w(c,p)):(h?(s.moveTo(l,c),h=!1):(1==Vn?x>e.i0:e.i1>x)&&(s.lineTo(g,p),s.lineTo(g,d),s.lineTo(g,o),s.lineTo(l,c)),d=p=c,g=l),o=c);f.band&&(-1==Vn&&s.closePath(),Vn*=-1)}(a,t[0],t[a],i[r[0].scale],i[n.scale])})),r.forEach((function(n,t){t>0&&n.show&&function(n){var t=r[n];if(1==Vn){var e=t.path,a=t[z],i=a%2/2;G(t.color,a,t.dash,t.fill),Cn.translate(i,i),t.band?Cn.fill(e):Cn.stroke(e),Cn.translate(-i,-i)}t.band&&(Vn*=-1)}(t)}))}(),et()}e.setView=qn;var Nn=null,Un=null;d.show&&(On=An("vt",Q),Rn=An("hz",Q),Nn=tn/2,Un=en/2);var Zn=An("region",Q),Gn=An("legend",I);function In(n){var t=Qn[n];r[n].show?t[O].remove("off"):(t[O].add("off"),tt($n[n],0,-10))}function Kn(n,t){(U(n)?n:[n]).forEach((function(n){var e=r[n];if(e.show=null!=t?t:!e.show,In(n),e.band){var a=r[n+1].band?n+1:n-1;r[a].show=e.show,In(a)}})),qn(e.i0,e.i1)}e.toggle=Kn;var Qn=c.show?r.map((function(n,t){var e=An(null,Gn);return e.style.color=n.color,e.style.borderBottom=n.width+"px "+(null==n.dash?"solid ":"dashed ")+n.color,e.textContent=n.label+": -",t>0&&ct("click",e,(function(n){Bn(n)&&Kn(t)})),e})):null,$n=r.map((function(n,t){if(t>0&&n.show){var e=An("point",Q);return e.style.background=n.color,e}})),_n=!1;function nt(n){var a=i[r[0].scale];return function(n,t,e,r){var a;e=e||0;for(var i=2147483647>=(r=r||t.length-1);r-e>1;)n>t[a=i?e+r>>1:g((e+r)/2)]?e=a:r=a;return n-t[e]>t[r]-n?r:e}(a.min+n/tn*(a.max-a.min),t[0],e.i0,e.i1)}function tt(n,t,e){n.style.transform="translate("+t+"px,"+e+"px)"}function et(n){_n=!1,d.show&&(tt(On,Nn,0),tt(Rn,0,Un));for(var a=nt(Nn),u=kn(t[0][a],i[r[0].scale],tn),o=0;r.length>o;o++){var l=r[o];if(o>0&&l.show){var f=Hn(t[o][a],i[l.scale],en);null==f&&(f=-10),tt($n[o],u,f)}c.show&&(Qn[o][P].nodeValue=l.label+": "+l.value.call(e,t[o][a]))}if(it){var s=b(rt,Nn),v=w(rt,Nn);Z(Zn,H,s),Z(Zn,z,v-s)}!1!==n&&pt.pub(R,e,Nn,Un,tn,en,a)}var rt=null,at=null,it=!1,ut=null;function ot(){ut=hn.getBoundingClientRect()}var lt={passive:!0};function ct(n,t,e){t.addEventListener(n,e,lt)}function ft(n,t,e){t.removeEventListener(n,e,lt)}function st(n){if((null==n||Bn(n))&&it){if(it=!1,Nn!=rt||Un!=at){Z(Zn,H,0),Z(Zn,z,0);var t=b(rt,Nn),r=w(rt,Nn);qn(nt(t),nt(r))}null!=n&&(ft(B,v,st),pt.pub(B,e,Nn,Un,tn,en,null))}}var vt={};for(var mt in vt[R]=function(n,t,e,r,a,i){null==ut&&ot(),null!=n?(Nn=n.clientX-ut.left,Un=n.clientY-ut.top,_n||(_n=!0,s(et))):(Nn=tn*(e/a),Un=en*(r/i),et(!1))},vt[V]=function(n,t,r,a,i,u){(null==n||Bn(n))&&(it=!0,null!=n?(rt=n.clientX-ut.left,at=n.clientY-ut.top,ct(B,v,st),pt.pub(V,e,rt,at,tn,en,null)):(rt=tn*(r/i),at=en*(a/u)))},vt[B]=st,vt[X]=function(n){0==e.i0&&e.i1==f-1||(qn(0,f-1),null!=n&&pt.pub(X,e,Nn,Un,tn,en,null))},vt)mt!=B&&ct(mt,hn,vt[mt]);var ht=function(n){var t=null;function e(){t=null,n()}return function(){clearTimeout(t),t=setTimeout(e,100)}}(ot);ct(j,m,ht),ct(q,m,ht),e.root=I;var dt=d.sync,pt=null!=dt?En[dt]=En[dt]||Tn():Tn();pt.sub(e),e.pub=function(n,t,e,r,a,i,u){vt[n](null,t,e,r,a,i,u)},y(t,0,t[0].length-1),e.destroy=function(){pt.unsub(e),ft(j,m,ht),ft(q,m,ht),I.remove()},Q.appendChild(hn)}return Cn.fmtDate=f,Cn.tzDate=function(n,t){return new Date(n.toLocaleString("en-US",{timeZone:t}))},Cn}();
