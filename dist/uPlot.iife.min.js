/*! https://github.com/leeoniya/uPlot (v1.0.5) */
var uPlot=function(){"use strict";function n(n,t,e,r){var i;e=e||0;for(var a=2147483647>=(r=r||t.length-1);r-e>1;)n>t[i=a?e+r>>1:o((e+r)/2)]?e=i:r=i;return n-t[e]>t[r]-n?r:e}function t(n,t,e,i){var a=t-n,l=f(a||r(t)||1),u=o(l),c=s(10,u)*e,v=0==a?c:0,h=x(function(n,t){return o(n/t)*t}(n-v,c)),p=x(d(t+v,c));return i&&(0==a?t>0?h=0:0>t&&(p=0):(c>p-t&&(p+=c),c>n-h&&(h-=c),n>=0&&0>h&&(h=0),0>=t&&p>0&&(p=0))),[h,p]}var e=Math,r=e.abs,o=e.floor,i=e.round,a=e.ceil,l=e.min,u=e.max,s=e.pow,f=e.log10,c=e.PI;function v(n,t){return i(n/t)*t}function h(n,t,e){return l(u(n,t),e)}function p(n){return"function"==typeof n?n:function(){return n}}function m(n,t){return t}function d(n,t){return a(n/t)*t}function g(n){return i(1e3*n)/1e3}function x(n){return i(1e6*n)/1e6}var w=Array.isArray;function b(n){return"object"==typeof n&&null!==n}function y(n){var t;if(w(n))t=n.map(y);else if(b(n))for(var e in t={},n)t[e]=y(n[e]);else t=n;return t}function M(n){for(var t=arguments,e=1;t.length>e;e++){var r=t[e];for(var o in r)b(n[o])?M(n[o],y(r[o])):n[o]=y(r[o])}return n}var k="width",S="height",Y="left",D=requestAnimationFrame,E=document,T=window,W=devicePixelRatio;function z(n,t){null!=t&&n.classList.add(t)}function A(n,t,e){n.style[t]=e+"px"}function F(n,t,e,r){var o=E.createElement(n);return null!=t&&z(o,t),null!=e&&e.insertBefore(o,r),o}function C(n,t){return F("div",n,t)}function _(n,t,e){n.style.transform="translate("+t+"px,"+e+"px)"}var H={passive:!0};function P(n,t,e){t.addEventListener(n,e,H)}function N(n,t,e){t.removeEventListener(n,e,H)}var L=["January","February","March","April","May","June","July","August","September","October","November","December"],B=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function I(n){return n.slice(0,3)}var R=B.map(I),j=L.map(I),G={MMMM:L,MMM:j,WWWW:B,WWW:R};function J(n){return(10>n?"0":"")+n}var U={YYYY:function(n){return n.getFullYear()},YY:function(n){return(n.getFullYear()+"").slice(2)},MMMM:function(n,t){return t.MMMM[n.getMonth()]},MMM:function(n,t){return t.MMM[n.getMonth()]},MM:function(n){return J(n.getMonth()+1)},M:function(n){return n.getMonth()+1},DD:function(n){return J(n.getDate())},D:function(n){return n.getDate()},WWWW:function(n,t){return t.WWWW[n.getDay()]},WWW:function(n,t){return t.WWW[n.getDay()]},HH:function(n){return J(n.getHours())},H:function(n){return n.getHours()},h:function(n){var t=n.getHours();return 0==t?12:t>12?t-12:t},AA:function(n){return 12>n.getHours()?"AM":"PM"},aa:function(n){return 12>n.getHours()?"am":"pm"},a:function(n){return 12>n.getHours()?"a":"p"},mm:function(n){return J(n.getMinutes())},m:function(n){return n.getMinutes()},ss:function(n){return J(n.getSeconds())},s:function(n){return n.getSeconds()},fff:function(n){return function(n){return(10>n?"00":100>n?"0":"")+n}(n.getMilliseconds())}};function V(n,t){t=t||G;for(var e,r=[],o=/\{([a-z]+)\}|[^{]+/gi;e=o.exec(n);)r.push("{"==e[0][0]?U[e[1]]:e[0]);return function(n){for(var e="",o=0;r.length>o;o++)e+="string"==typeof r[o]?r[o]:r[o](n,t);return e}}function O(n,t,e){for(var o=[],i=n;t>i;i++)for(var a=0;e.length>a;a++){var l=e[a]*s(10,i);o.push(+l.toFixed(r(i)))}return o}var q=[1,2,5],X=O(-12,0,q),Z=O(0,12,q),K=X.concat(Z),Q=3600,$=86400,nn=30*$,tn=365*$,en=[5e-4].concat(O(-3,0,q),[1,5,10,15,30,60,300,600,900,1800,Q,7200,3*Q,4*Q,6*Q,8*Q,43200,$,2*$,3*$,4*$,5*$,6*$,7*$,8*$,9*$,10*$,15*$,nn,2*nn,3*nn,4*nn,6*nn,tn,2*tn,5*tn,10*tn,25*tn,50*tn,100*tn]);function rn(n,t){return n.map((function(n){return[n[0],t(n[1]),n[2],t(n[4]?n[1]+n[3]:n[3])]}))}var on="{M}/{D}",an="\n"+on,ln="{h}:{mm}{aa}",un=[[tn,"{YYYY}",7,"",1],[28*$,"{MMM}",7,"\n{YYYY}",1],[$,on,7,"\n{YYYY}",1],[Q,"{h}{aa}",4,an,1],[60,ln,4,an,1],[1,":{ss}",2,an+" "+ln,1],[.001,":{ss}.{fff}",2,an+" "+ln,1]];function sn(n,t){return function(e,r){var o=g(r[1]-r[0]),i=t.find((function(n){return o>=n[0]})),a=null,l=null,u=null;return r.map((function(t){var e=n(t),r=e.getFullYear(),o=e.getDate(),s=e.getMinutes(),f=r!=a,c=o!=l,v=s!=u;return a=r,l=o,u=s,(7==i[2]&&f||4==i[2]&&c||2==i[2]&&v?i[3]:i[1])(e)}))}}function fn(n,t,e){return new Date(n,t,e)}function cn(n,t){return t(n)}function vn(n,t){return function(e,r){return t(n(r))}}var hn={show:!0,x:!0,y:!0,lock:!1,points:{show:function(n,t){var e=n.series[t],r=C();r.style.background=e.stroke||"#000";var o=Yn(e.width,1),i=(o-1)/-2;return A(r,k,o),A(r,S,o),A(r,"marginLeft",i),A(r,"marginTop",i),r}},drag:{setScale:!0,x:!0,y:!1},focus:{prox:-1},locked:!1,left:-10,top:-10,idx:null},pn={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},mn=M({},pn,{size:10}),dn='12px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',gn="bold "+dn,xn={type:"x",show:!0,scale:"x",space:50,gap:5,size:50,labelSize:30,labelFont:gn,side:2,grid:pn,ticks:mn,font:dn},wn={show:!0,scale:"x",min:1/0,max:-1/0,idxs:[]},bn=new Intl.NumberFormat(navigator.language);function yn(n,t){return t.map(bn.format)}function Mn(n,t,e,r,o,i){for(var a=[],l=t=i?t:+d(t,r).toFixed(12);e>=l;l=+(l+r).toFixed(12))a.push(l);return a}function kn(n,t){return t}var Sn={type:"y",show:!0,scale:"y",space:40,gap:5,size:50,labelSize:30,labelFont:gn,side:3,grid:pn,ticks:mn,font:dn};function Yn(n,t){return u(g(5*t),2*g(n*t)-1)}var Dn={scale:"y",show:!0,band:!1,alpha:1,points:{show:function(n,t){var e=Yn(n.series[t].width,W),r=n.series[0].idxs;return n.bbox.width/e/2>=r[1]-r[0]}},values:null,min:1/0,max:-1/0,idxs:[],path:null,clip:null},En={time:!0,auto:!1,distr:1,min:1/0,max:-1/0},Tn=M({},En,{time:!1,auto:!0}),Wn={};function zn(){var n=[];return{sub:function(t){n.push(t)},unsub:function(t){n=n.filter((function(n){return n!=t}))},pub:function(t,e,r,o,i,a,l){n.length>1&&n.forEach((function(n){n!=e&&n.pub(t,e,r,o,i,a,l)}))}}}function An(n,t,e){return[n[0],n[1]].concat(n.slice(2)).map((function(n,r){return Fn(n,r,t,e)}))}function Fn(n,t,e,r){return M({},0==t||n&&n.side%2==0?e:r,n)}function Cn(n,t,e,r){return r+(1-(n-t.min)/(t.max-t.min))*e}function _n(n,t,e,r){return r+(n-t.min)/(t.max-t.min)*e}function Hn(n,t,e){return[t,e]}function Pn(n,e,r){return t(e,r,.2,!0)}function Nn(n){return 0==n.button}function Ln(n){var t;return[n=n.replace(/\d+/,(function(n){return t=i(n*W)})),t]}function Bn(t,e,a){var s={},f=s.root=C("uplot");null!=t.id&&(f.id=t.id),z(f,t.class),t.title&&(C("title",f).textContent=t.title);var b=F("canvas"),H=s.ctx=b.getContext("2d"),L=C("wrap",f),B=C("under",L);L.appendChild(b);var I=C("over",L);((t=y(t)).plugins||[]).forEach((function(n){n.opts&&(t=n.opts(s,t)||t)}));var R=!1,j=An(t.series,wn,Dn),G=An(t.axes||[],xn,Sn),J=t.scales=t.scales||{},U=M({x:i(Sn.size/2),y:i(xn.size/3)},t.gutters),O=t.tzDate||function(n){return new Date(1e3*n)},q=t.fmtDate||V,X=function(n){return function(t,e,r,i,a){var l=[],u=i>=nn&&tn>i,s=n(e),f=s/1e3,c=fn(s.getFullYear(),s.getMonth(),u?1:s.getDate()),v=c/1e3;if(u)for(var h=i/nn,p=f==v?f:fn(c.getFullYear(),c.getMonth()+h,1)/1e3,m=new Date(1e3*p),w=m.getFullYear(),b=m.getMonth(),y=0;r>=p;y++){var M=fn(w,b+h*y,1);(p=(+M+(M-n(M/1e3)))/1e3)>r||l.push(p)}else{var k=$>i?i:$,S=v+(o(e)-o(f))+d(f-v,k);l.push(S);for(var Y=n(S),D=Y.getHours()+Y.getMinutes()/60+Y.getSeconds()/Q,E=i/Q;;){S=g(S+i);var T=o(x(D+E))%24,W=n(S).getHours()-T;if(W>1&&(W=-1),(S-=W*Q)>r)break;D=(D+E)%24,.7>g((S-l[l.length-1])/i)*a||l.push(S)}}return l}}(O),on=sn(O,rn(un,q)),an=vn(O,cn("{YYYY}-{MM}-{DD} {h}:{mm}{aa}",q));s.series=j,s.axes=G,s.scales=J;var ln={};for(var pn in J){var mn=J[pn];null==mn.min&&null==mn.max||(ln[pn]={min:mn.min,max:mn.max})}var dn,gn,bn=M({show:!0},t.legend).show,Bn=[],In=!1;if(bn){dn=F("table","legend",f);var Rn=j[1].values;if(In=null!=Rn){var jn=F("tr","labels",dn);for(var Gn in F("th",null,jn),gn=Rn(s,1,0))F("th",null,jn).textContent=Gn}else gn={_:0},z(dn,"inline")}var Jn=s.cursor=M({},hn,t.cursor);Jn.points.show=p(Jn.points.show);var Un=s.focus=M({},t.focus||{alpha:.3},Jn.focus),Vn=Un.prox>=0,On=[null];function qn(n,t){var e=n.scale,r=J[e]=M({},0==t?En:Tn,J[e]),o=r.time;r.range=p(r.range||(o||0==t?Hn:Pn)),n.spanGaps=!0===n.spanGaps?m:p(n.spanGaps||[]);var i=n.value;if(n.value=o?function(n){return"string"==typeof n}(i)?vn(O,cn(i,q)):i||an:i||kn,n.label=n.label||(o?"Time":"Value"),t>0){n.width=null==n.width?1:n.width,n.paths=n.paths||Tt;var a=Yn(n.width,1);n.points=M({},{size:a,width:u(1,.2*a)},n.points),n.points.show=p(n.points.show),n._paths=null}if(bn&&Bn.splice(t,0,function(n,t){if(0==t&&In)return null;var e=[],r=F("tr","series",dn,dn.childNodes[t]);z(r,n.class),n.show||z(r,"off");var o=F("th",null,r),i=C("ident",o);n.width&&(i.style.borderColor=n.stroke),i.style.backgroundColor=n.fill;var a=C("text",o);for(var l in a.textContent=n.label,t>0&&(P("click",o,(function(t){Jn.locked||Nn(t)&&jt(j.indexOf(n),{show:!n.show},pe.setSeries)})),Vn&&P("mouseenter",o,(function(){Jn.locked||jt(j.indexOf(n),{focus:!0},pe.setSeries)}))),gn){var u=F("td",null,r);u.textContent="--",e.push(u)}return e}(n,t)),Jn.show){var l=function(n,t){if(t>0){var e=Jn.points.show(s,t);if(e)return z(e,"cursor-pt"),z(e,n.class),_(e,-10,-10),I.insertBefore(e,On[t]),e}}(n,t);l&&On.splice(t,0,l)}}for(var Xn in s.addSeries=function(n,t){n=Fn(n,t=null==t?j.length:t,wn,Dn),j.splice(t,0,n),qn(j[t],t)},s.delSeries=function(n){j.splice(n,1),Bn.splice(n,1)[0][0].parentNode.remove(),On.splice(n,1)[0].remove()},j.forEach(qn),J){var Zn=J[Xn];null!=Zn.from&&(J[Xn]=M({},J[Zn.from],Zn))}var Kn,Qn=j[0].scale,$n=J[Qn].distr;G.forEach((function(n){if(n.show){var t=J[n.scale];null==t&&(n.scale=n.side%2?j[1].scale:Qn,t=J[n.scale]);var e=t.time;n.space=p(n.space),n.incrs=p(n.incrs||(2==t.distr?Z:e?en:K)),n.split=p(n.split||(e&&1==t.distr?X:Mn));var r=n.values;n.values=e?w(r)?sn(O,rn(r,q)):r||on:r||yn,n.font=Ln(n.font),n.labelFont=Ln(n.labelFont)}}));var nt,tt,et,rt,ot,it,at,lt,ut,st,ft=null,ct=null,vt=j[0].idxs,ht=null;function pt(n,t){s.data=n,e=n.slice(),Kn=(ht=e[0]).length,2==$n&&(e[0]=ht.map((function(n,t){return t}))),At(),he("setData"),!1!==t&&mt()}function mt(){ft=vt[0]=0,ct=vt[1]=Kn-1,Rt(Qn,2==$n?ft:e[0][ft],2==$n?ct:e[0][ct])}function dt(n,t,e,r){H.strokeStyle=n||"#000",H.lineWidth=t,H.lineJoin="round",H.setLineDash(e||[]),H.fillStyle=r||"#000"}function gt(n,t){s.width=nt=et=n,s.height=tt=rt=t,ot=it=0,function(){var n=!1,t=!1,e=!1,r=!1;G.forEach((function(o){if(o.show){var i=o.side,a=i%2,l=o.size+(o.labelSize=null!=o.label?o.labelSize||30:0);l>0&&(a?(et-=l,3==i?(ot+=l,r=!0):e=!0):(rt-=l,0==i?(it+=l,n=!0):t=!0))}})),(n||t)&&(e||(et-=U.x),r||(et-=U.x,ot+=U.x)),(r||e)&&(t||(rt-=U.y),n||(rt-=U.y,it+=U.y))}(),function(){var n=ot+et,t=it+rt,e=ot,r=it;function o(o,i){switch(o){case 1:return(n+=i)-i;case 2:return(t+=i)-i;case 3:return(e-=i)+i;case 0:return(r-=i)+i}}G.forEach((function(n){var t=n.side;n._pos=o(t,n.size),null!=n.label&&(n._lpos=o(t,n.labelSize))}))}();var e=s.bbox;at=e[Y]=v(ot*W,.5),lt=e.top=v(it*W,.5),ut=e[k]=v(et*W,.5),st=e[S]=v(rt*W,.5),A(B,Y,ot),A(B,"top",it),A(B,k,et),A(B,S,rt),A(I,Y,ot),A(I,"top",it),A(I,k,et),A(I,S,rt),A(L,k,nt),A(L,S,tt),b[k]=i(nt*W),b[S]=i(tt*W),ee(),R&&Rt(Qn,J[Qn].min,J[Qn].max),R&&he("setSize")}function xt(){if(qt)Zt=!0;else{var t={};for(var r in J){var o=J[r],i=ln[r];t[r]={min:o.min,max:o.max},null!=i?(M(o,i),r==Qn&&At()):r!=Qn&&(o.min=1/0,o.max=-1/0)}for(var a in j.forEach((function(t,r){var o=t.scale,i=J[o];if(0==r){var a=i.range(s,i.min,i.max);i.min=a[0],i.max=a[1],ft=n(i.min,e[0]),ct=n(i.max,e[0]),i.min>e[0][ft]&&ft++,e[0][ct]>i.max&&ct--,t.min=ht[ft],t.max=ht[ct]}else if(t.show&&null==ln[o]){var f=t.min==1/0?i.auto?function(n,t,e){for(var r=1/0,o=-1/0,i=t;e>=i;i++)null!=n[i]&&(r=l(r,n[i]),o=u(o,n[i]));return[r,o]}(e[r],ft,ct):[0,100]:[t.min,t.max];i.min=l(i.min,t.min=f[0]),i.max=u(i.max,t.max=f[1])}t.idxs[0]=ft,t.idxs[1]=ct})),J){var f=J[a];if(null==f.from&&f.min!=1/0&&null==ln[a]){var c=f.range(s,f.min,f.max);f.min=c[0],f.max=c[1]}ln[a]=null}for(var v in J){var h=J[v];if(null!=h.from){var p=J[h.from];if(p.min!=1/0){var m=h.range(s,p.min,p.max);h.min=m[0],h.max=m[1]}}}var d={};for(var g in j.forEach((function(n){var e=n.scale,r=J[e];null==t[e]||r.min==t[e].min&&r.max==t[e].max||(d[e]=!0,n._paths=null)})),d)he("setScale",g);Jn.show&&ne()}}s.setData=pt,s.bbox={},s.setSize=function(n){gt(n.width,n.height)};var wt,bt,yt,Mt,kt,St,Yt,Dt=1;function Et(n,t){var e=new Set(j[n].spanGaps(s,t,n)),r=null;if((t=t.filter((function(n){return!e.has(n)}))).length>0){r=new Path2D;for(var o=at,i=0;t.length>i;i++){var a=t[i];r.rect(o,lt,a[0]-o,lt+st),o=a[1]}r.rect(o,lt,at+ut-o,lt+st)}return r}function Tt(n,t,r,o){var a,s,f=j[t],c=e[0],v=e[t],h=J[Qn],p=J[f.scale],m=1==Dt?{stroke:new Path2D,fill:null,clip:null}:j[t-1]._paths,d=m.stroke,x=g(f[k]*W),w=1/0,b=-1/0,y=[],M=i(_n(c[1==Dt?r:o],h,ut,at));f.band&&1==Dt&&r==ft&&(x&&d.lineTo(-x,i(Cn(v[r],p,st,lt))),c[0]>h.min&&y.push([at,M-1]));for(var S=1==Dt?r:o;S>=r&&o>=S;S+=Dt){var Y=i(_n(c[S],h,ut,at));if(Y==M)null!=v[S]&&(a=i(Cn(v[S],p,st,lt)),w=l(a,w),b=u(a,b));else{var D=!1;if(w!=1/0?(d.lineTo(M,w),d.lineTo(M,b),d.lineTo(M,a),s=M):D=!0,null!=v[S]?(a=i(Cn(v[S],p,st,lt)),d.lineTo(Y,a),w=b=a,Y-M>1&&null==v[S-1]&&(D=!0)):(w=1/0,b=-1/0),D){var E=y[y.length-1];E&&E[0]==s?E[1]=Y:y.push([s,Y])}M=Y}}if(f.band){var T,z,A=100*x;-1==Dt&&r==ft&&(z=at-A,T=r),1==Dt&&o==ct&&(z=at+ut+A,T=o,h.max>c[Kn-1]&&y.push([M,at+ut])),d.lineTo(z,i(Cn(v[T],p,st,lt)))}if(1==Dt&&(m.clip=Et(t,y),null!=f.fill)){var F=m.fill=new Path2D(d),C=i(Cn(0,p,st,lt));F.lineTo(at+ut,C),F.lineTo(at,C)}return f.band&&(Dt*=-1),m}function Wt(n,t,e,r){var o=n.space(s,t,e,r),i=function(n,t,e,r){for(var o=e/n,i=0;t.length>i;i++){var a=t[i]*o;if(a>=r)return[t[i],a]}}(e-t,n.incrs(s,t,e,r,o),r,o);return i.push(i[1]/o),i}function zt(n,t,e,r,o,i,a,l){var u=i%2/2;H.translate(u,u),dt(a,i,l),H.beginPath();var s,f,c,v,h=r+(0==e||3==e?-o:o);0==t?(f=r,v=h):(s=r,c=h),n.forEach((function(n){0==t?s=c=n:f=v=n,H.moveTo(s,f),H.lineTo(c,v)})),H.stroke(),H.translate(-u,-u)}function At(){j.forEach((function(n,t){t>0&&(n.min=1/0,n.max=-1/0,n._paths=null)}))}function Ft(){qt?Xt=!0:(H.clearRect(0,0,b[k],b[S]),he("drawClear"),function(){G.forEach((function(n){if(n.show){var t=J[n.scale];if(t.min!=1/0){var e=n.side,r=e%2,o=t.min,a=t.max,l=Wt(n,o,a,0==r?et:rt),u=l[1],f=n.split(s,o,a,l[0],l[2],2==t.distr),v=0==r?_n:Cn,h=0==r?ut:st,p=0==r?at:lt,m=f.map((function(n){return i(v(n,t,h,p))})),d=i(n.gap*W),x=n.ticks,w=x.show?i(x.size*W):0,b=n.values(s,2==t.distr?f.map((function(n){return ht[n]})):f,u),y=i(n._pos*W),M=y+(w+d)*(0==r&&0==e||1==r&&3==e?-1:1),S=0==r?M:0,D=1==r?M:0;H.font=n.font[0],H.fillStyle=n.stroke||"#000",H.textAlign=0==r?"center":3==e?"right":Y,H.textBaseline=1==r?"middle":2==e?"top":"bottom";var E=1.5*n.font[1];if(b.forEach((function(n,t){0==r?D=m[t]:S=m[t],(""+n).split(/\n/gm).forEach((function(n,t){H.fillText(n,D,S+t*E)}))})),n.label){H.save();var T=i(n._lpos*W);1==r?(D=S=0,H.translate(T,i(lt+st/2)),H.rotate((3==e?-c:c)/2)):(D=i(at+ut/2),S=T),H.font=n.labelFont[0],H.textAlign="center",H.textBaseline=2==e?"top":"bottom",H.fillText(n.label,D,S),H.restore()}x.show&&zt(m,r,e,y,w,g(x[k]*W),x.stroke);var z=n.grid;z.show&&zt(m,r,0==r?2:1,0==r?lt:at,0==r?st:ut,g(z[k]*W),z.stroke,z.dash)}}})),he("drawAxes")}(),function(){j.forEach((function(n,t){if(t>0&&n.show&&null==n._paths){var r=function(n){for(var t=h(ft-1,0,Kn-1),e=h(ct+1,0,Kn-1);null==n[t]&&t>0;)t--;for(;null==n[e]&&Kn-1>e;)e++;return[t,e]}(e[t]);n._paths=n.paths(s,t,r[0],r[1])}})),j.forEach((function(n,t){t>0&&n.show&&(n._paths&&function(n){var t=j[n];if(1==Dt){var e=t._paths,r=e.stroke,o=e.fill,i=e.clip,a=g(t[k]*W),l=a%2/2;dt(t.stroke,a,t.dash,t.fill),H.globalAlpha=t.alpha,H.translate(l,l),H.save();var u=at,s=lt,f=ut,c=st,v=a*W/2;0==t.min&&(c+=v),0==t.max&&(s-=v,c+=v),H.beginPath(),H.rect(u,s,f,c),H.clip(),null!=i&&H.clip(i),t.band?(H.fill(r),a&&H.stroke(r)):(a&&H.stroke(r),null!=t.fill&&H.fill(o)),H.restore(),H.translate(-l,-l),H.globalAlpha=1}t.band&&(Dt*=-1)}(t),n.points.show(s,t,ft,ct)&&function(n){var t=j[n],r=t.points,o=g(t[k]*W),a=o%2/2,l=r.width>0,u=(r.size-r.width)/2*W,s=g(2*u);H.translate(a,a),H.save(),H.beginPath(),H.rect(at-s,lt-s,ut+2*s,st+2*s),H.clip(),H.globalAlpha=t.alpha;for(var f=new Path2D,v=ft;ct>=v;v++)if(null!=e[n][v]){var h=i(_n(e[0][v],J[Qn],ut,at)),p=i(Cn(e[n][v],J[t.scale],st,lt));f.moveTo(h+u,p),f.arc(h,p,u,0,2*c)}dt(r.stroke||t.stroke||"#000",o,null,r.fill||(l?"#fff":t.stroke||"#000")),H.fill(f),l&&H.stroke(f),H.globalAlpha=1,H.restore(),H.translate(-a,-a)}(t),he("drawSeries",t))}))}(),wt=!0,he("draw"))}function Ct(n,t){var e=J[n];if(null==e.from){if(n==Qn&&e.time&&G[0].show&&.001>Wt(G[0],t.min,t.max,et)[0])return;ln[n]=t,wt=!1,xt(),!wt&&Ft(),wt=!1}}s.redraw=Ft,s.setScale=Ct;var _t=!1,Ht=Jn.drag;if(Jn.show){var Pt="cursor-";Jn.x&&(St=Jn.left,bt=C(Pt+"x",I)),Jn.y&&(Yt=Jn.top,yt=C(Pt+"y",I))}var Nt=s.select=M({show:!0,left:0,width:0,top:0,height:0},t.select),Lt=Nt.show?C("select",I):null;function Bt(n,t){if(Nt.show){for(var e in n)A(Lt,e,Nt[e]=n[e]);!1!==t&&he("setSelect")}}function It(n){var t=bn?Bn[n][0].parentNode:null;j[n].show?t&&function(n){n.classList.remove("off")}(t):(t&&z(t,"off"),On.length>1&&_(On[n],0,-10))}function Rt(n,t,e){Ct(n,{min:t,max:e})}function jt(n,t,e){var r=j[n];if(null!=t.focus&&function(n){n!=Ut&&(j.forEach((function(t,e){!function(n,t){var e=j[n];Gt(n,t),e.band&&Gt(j[n+1].band?n+1:n-1,t)}(e,null==n||0==e||e==n?1:Un.alpha)})),Ut=n,Ft())}(n),null!=t.show){if(r.show=t.show,It(n),r.band){var o=j[n+1]&&j[n+1].band?n+1:n-1;j[o].show=r.show,It(o)}Rt(Qn,J[Qn].min,J[Qn].max)}he("setSeries",n,t),e&&de.pub("setSeries",s,n,t)}function Gt(n,t){j[n].alpha=t,Bn&&(Bn[n][0].parentNode.style.opacity=t)}s.setSelect=Bt,s.setSeries=jt;var Jt=Array(j.length),Ut=null;function Vt(n,t){var e=h(n/(t==Qn?et:rt),0,1),r=J[t];return r.min+e*(r.max-r.min)}function Ot(t){return n(Vt(t,Qn),e[0],ft,ct)}bn&&Vn&&P("mouseleave",dn,(function(){Jn.locked||(jt(null,{focus:!1},pe.setSeries),ne())})),s.posToIdx=Ot,s.posToVal=function(n,t){return Vt(t==Qn?n:rt-n,t)},s.valToPos=function(n,t,e){return t==Qn?_n(n,J[t],e?ut:et,e?at:0):Cn(n,J[t],e?st:rt,e?lt:0)};var qt=!1,Xt=!1,Zt=!1,Kt=!1;function Qt(n){qt=!0,n(s),qt=!1,Zt&&xt(),Kt&&ne(),Xt&&!wt&&Ft(),Zt=Kt=Xt=wt=qt}s.batch=Qt,s.setCursor=function(n){St=n.left,Yt=n.top,ne()};var $t=0;function ne(n){if(qt)Kt=!0;else{var t;if($t=0,Jn.show&&(Jn.x&&_(bt,i(St),0),Jn.y&&_(yt,0,i(Yt))),0>St){t=null;for(var o=0;j.length>o;o++)if(o>0&&(Jt[o]=1/0,On.length>1&&_(On[o],-10,-10)),bn){if(0==o&&In)continue;for(var a=0;Bn[o].length>a;a++)Bn[o][a].firstChild.nodeValue="--"}Vn&&jt(null,{focus:!0},pe.setSeries)}else{t=Ot(St);for(var f=g(_n(e[0][t],J[Qn],et,0)),c=0;j.length>c;c++){var v=j[c];if(c>0&&v.show){var h=e[c][t],p=null==h?-10:g(Cn(h,J[v.scale],rt,0));Jt[c]=p>0?r(p-Yt):1/0,On.length>1&&_(On[c],f,p)}else Jt[c]=1/0;if(bn){if(0==c&&In)continue;var m=0==c&&2==$n?ht:e[c],d=In?v.values(s,c,t):{_:v.value(s,m[t],c,t)},x=0;for(var w in d)Bn[c][x++].firstChild.nodeValue=d[w]}}if(Nt.show&&_t){if(Ht.x){var b=l(Mt,St),y=u(Mt,St);A(Lt,Y,Nt[Y]=b),A(Lt,k,Nt[k]=y-b)}if(Ht.y){var M=l(kt,Yt),D=u(kt,Yt);A(Lt,"top",Nt.top=M),A(Lt,S,Nt[S]=D-M)}}}if(null!=n&&(de.pub("mousemove",s,St,Yt,et,rt,t),Vn)){var E=l.apply(null,Jt),T=null;E>Un.prox||Jt.some((function(n,t){if(n==E)return T=t})),jt(T,{focus:!0},pe.setSeries)}Jn.idx=t,Jn.left=St,Jn.top=Yt,R&&he("setCursor")}}var te=null;function ee(){te=I.getBoundingClientRect()}function re(n,t,e,r,o,i){Jn.locked||(oe(n,0,e,r,o,i,0,!1,null!=n),null!=n?0==$t&&($t=D(ne)):ne())}function oe(n,t,e,r,o,i,a,l,u){null!=n?(e=n.clientX-te.left,r=n.clientY-te.top):(e=et*(e/o),r=rt*(r/i)),u&&(e>1&&et-1>e||(e=v(e,et)),r>1&&rt-1>r||(r=v(r,rt))),l?(Mt=e,kt=r):(St=e,Yt=r)}function ie(){Bt({width:Ht.x?0:et,height:Ht.y?0:rt},!1)}function ae(n,t,e,r,o,i){(null==n||Nn(n))&&(_t=!0,oe(n,0,e,r,o,i,0,!0,!0),Nt.show&&(Ht.x||Ht.y)&&ie(),null!=n&&(P("mouseup",E,le),de.pub("mousedown",s,Mt,kt,et,rt,null)))}function le(n,t,e,r,o,i){(null==n||Nn(n))&&(_t=!1,oe(n,0,e,r,o,i,0,!1,!0),St!=Mt||Yt!=kt?(Bt(Nt),Ht.setScale&&(Qt((function(){if(Ht.x){var n=2==$n?Ot:Vt;Rt(Qn,n(Nt[Y],Qn),n(Nt[Y]+Nt[k],Qn))}if(Ht.y)for(var t in J)t!=Qn&&null==J[t].from&&Rt(t,Vt(rt-Nt.top-Nt[S],t),Vt(rt-Nt.top,t))})),ie())):Jn.lock&&(Jn.locked=!Jn.locked,Jn.locked||ne()),null!=n&&(N("mouseup",E,le),de.pub("mouseup",s,St,Yt,et,rt,null)))}function ue(n){mt(),null!=n&&de.pub("dblclick",s,St,Yt,et,rt,null)}var se,fe={};fe.mousedown=ae,fe.mousemove=re,fe.mouseup=le,fe.dblclick=ue,fe.setSeries=function(n,t,e,r){jt(e,r)},Jn.show&&(P("mousedown",I,ae),P("mousemove",I,re),P("mouseleave",I,(function(){Jn.locked||_t||(St=-10,Yt=-10,ne(1))})),Ht.setScale&&P("dblclick",I,ue),se=function(n){var t=null;function e(){t=null,n()}return function(){clearTimeout(t),t=setTimeout(e,100)}}(ee),P("resize",T,se),P("scroll",T,se),s.syncRect=ee);var ce=s.hooks=t.hooks||{},ve=[s];function he(n){if(n in ce){var t=ve.concat(Array.prototype.slice.call(arguments,1));ce[n].forEach((function(n){n.apply(null,t)}))}}(t.plugins||[]).forEach((function(n){for(var t in n.hooks)ce[t]=(ce[t]||[]).concat(n.hooks[t])}));var pe=M({key:null,setSeries:!1},Jn.sync),me=pe.key,de=null!=me?Wn[me]=Wn[me]||zn():zn();function ge(){gt(t[k],t[S]),he("init",t,e),pt(e||t.data,!1),ln[Qn]?Ct(Qn,ln[Qn]):mt(),Bt(Nt,!1),R=!0,he("ready")}return de.sub(s),s.pub=function(n,t,e,r,o,i,a){fe[n](null,t,e,r,o,i,a)},s.destroy=function(){de.unsub(s),N("resize",T,se),N("scroll",T,se),f.remove(),he("destroy")},a?a instanceof HTMLElement?(a.appendChild(f),ge()):a(s,ge):ge(),s}return Bn.assign=M,Bn.rangeNum=t,Bn.fmtDate=V,Bn.tzDate=function(n,t){var e=new Date(n.toLocaleString("en-US",{timeZone:t}));return e.setMilliseconds(n.getMilliseconds()),e},Bn}();
